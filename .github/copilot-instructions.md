# GitHub Copilot 指导文件

## 项目概述

Launcher App 是一个基于 Avalonia UI 的启动器应用程序，用于管理用户常用的文件、文件夹、URL 和指令。
该应用程序包含项目列表界面（主界面）、项目编辑界面、项目右键菜单、设置界面、托盘图标、托盘右键菜单等。
支持多平台（Windows, macOS, Linux）、多语言（中文、英文）和主题切换（浅色、深色）。

## 主要功能

1. **项目管理**
   - 添加、编辑和移除项目（文件、文件夹、URL、命令）
   - 拖放添加文件/文件夹
   - 项目排序与搜索
   - 右键菜单操作（打开、复制、在文件夹中显示等）

2. **用户界面**
   - 主窗口（项目列表）
   - 项目编辑窗口
   - 设置窗口
   - 系统托盘集成
   - 键盘导航与快捷键
   - 统一的Toast提示组件

3. **系统集成**
   - 全局快捷键（Alt+Shift+Q 呼出应用）
   - 系统托盘菜单（显示最近8个项目）
   - 跨平台终端命令执行
   - 系统文件操作（在文件夹中显示、复制文件）

4. **设置与配置**
   - 主题设置（浅色/深色/跟随系统）
   - 语言设置（中文/英文/跟随系统）
   - 数据管理（清空数据、查看数据存储位置）

## 项目结构

```
LauncherAppAvalonia/src/
├── Program.cs                 # 应用入口
└── TODO 其他待补充...
```

## 编码规范

此项目是 Avalonia UI 技术的示例项目，需要遵守以下规范，以便入门者阅读学习。

1. 注重代码质量和可读性，使用有意义的变量和函数名称。
2. 添加详细的注释，尤其是处理平台特定代码时。
3. 分离关注点，将不同功能模块化处理。
4. 使用异步编程处理IO操作，避免阻塞主线程。
5. 避免代码重复，将常用功能提取为模块或共享函数。
6. 保持代码的一致性，不要在项目中维护多个具有相同功能的文件。
7. 打印日志时使用英文，不需要多语言支持，避免乱码。

关注Avalonia UI的版本变更：https://docs.avaloniaui.net/docs/stay-up-to-date/upgrade-from-0.10

### 代码优化建议

1. **UI/UX 一致性**
   - 确保所有窗口在主题切换、语言切换时有一致的行为

2. **模块化改进**
   - 将重复的主题和语言处理函数抽象为共享模块
   - 通过预加载脚本提供共享的类型和常量定义，避免重复定义

3. **错误处理**
   - 添加更全面的错误捕获和用户友好的错误显示
   - 实现操作日志记录功能

## 通用操作流程

1. **添加新项目流程**
   - 用户点击添加按钮或拖放文件
   - 显示编辑窗口
   - 填写/确认项目信息
   - 保存项目到数据存储
   - 刷新主窗口列表
   - 更新托盘菜单

2. **打开项目流程**
   - 用户双击项目或右键菜单选择打开
   - 根据项目类型执行对应操作:
     - 文件/文件夹/URL: 使用系统默认程序打开
     - 命令: 使用平台特定方法在终端执行

3. **设置主题流程**
   - 用户在设置窗口选择主题
   - 保存主题设置到本地存储
   - 通知所有窗口应用新主题
   - 根据主题应用相应CSS类

4. **设置语言流程**
   - 用户在设置窗口选择语言
   - 保存语言设置
   - 加载对应语言资源
   - 更新所有窗口的文本
